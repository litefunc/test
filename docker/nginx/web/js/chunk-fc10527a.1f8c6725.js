(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-fc10527a"],{"6fe2":function(t,e,i){},d2c2:function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"page column is-10 is-offset-1"},[i("div",{staticClass:"setting-page-active"},[i("div",{staticClass:"maskdetails"},[i("div",{staticClass:"columns",staticStyle:{width:"100%"}},[i("div",{staticClass:"page column is-10 is-offset-1"},[i("div",{staticStyle:{display:"flex","align-items":"center"}},[i("a",{on:{click:t.gobackPrev}},[i("b-icon",{staticClass:"gobackbutton",attrs:{type:"a",icon:"arrow-left",size:"is-medium"}})],1),i("h1",{staticClass:"is-size-4 has-text-white",staticStyle:{"margin-left":"1rem"}},[t._v("Go back")])]),i("h1",{staticClass:"is-size-1 has-text-grey-lighter"},[t._v("Settings")]),i("div",{staticClass:"columns",staticStyle:{"margin-top":"2rem"}},[i("div",{staticClass:"column"},[i("div",[i("div",{staticClass:"setting_bar setting_head",on:{click:function(e){return t.choosetab("hdmi")}}},[i("h1",{class:["is-size-3","has-text-white","hdmi"===t.active_tab?"active_tab":""]},[t._v("HDMI")]),"hdmi"!=t.active_tab?i("b-icon",{staticClass:"has-text-white",attrs:{icon:"chevron-down",size:"is-large"}}):t._e()],1),"hdmi"===t.active_tab?i("div",{staticClass:"setting_bar"},[i("h1",{staticClass:"is-size-3 has-text-white"},[t._v("Project Output")]),i("b-switch",{attrs:{size:"is-medium"},model:{value:t.hdmi_start,callback:function(e){t.hdmi_start=e},expression:"hdmi_start"}})],1):t._e(),t.hdmi_start&&"hdmi"===t.active_tab?i("div",{staticClass:"setting_bar"},[i("h1",{staticClass:"is-size-3 has-text-white"},[t._v("Projection Source")]),i("span",[i("b-select",{attrs:{placeholder:"Video source",rounded:""},model:{value:t.project_video_type,callback:function(e){t.project_video_type=e},expression:"project_video_type"}},[i("option",{attrs:{value:"vod"}},[t._v("Vod")]),i("option",{attrs:{value:"live"}},[t._v("Live")])])],1)]):t._e(),i("div",{staticClass:"blank_setting_bar"}),i("div",{staticClass:"setting_bar setting_head",on:{click:function(e){return t.choosetab("scan")}}},[i("h1",{class:["is-size-3","has-text-white","scan"===t.active_tab?"active_tab":""]},[t._v("Scan Results")]),"scan"!=t.active_tab?i("b-icon",{staticClass:"has-text-white",attrs:{icon:"chevron-down",size:"is-large"}}):t._e()],1),"scan"===t.active_tab?i("div",{staticClass:"setting_bar"},[i("h1",{staticClass:"is-size-3 has-text-white"},[t._v("Show")]),i("b-switch",{attrs:{size:"is-medium"},model:{value:t.checked_scan,callback:function(e){t.checked_scan=e},expression:"checked_scan"}})],1):t._e()])]),i("div",{staticClass:"column"},["hdmi"===t.active_tab&&!0===t.hdmi_start&&null!==t.project_video_type?i("div",{ref:"vcard",staticClass:"detail-setting videplist-fk",staticStyle:{position:"relative",display:"flex","flex-direction":"column"}},[i("div",{staticClass:"vidolist-head"},[i("a",{staticStyle:{display:"flex","align-items":"center",padding:"0.5rem 0rem 0.5rem 0rem"},on:{click:function(e){t.open_panel_details=!t.open_panel_details}}},[i("h1",{staticClass:"is-size-4",staticStyle:{"flex-grow":"1"}},[t._v("Video List")]),1!=t.open_panel_details?i("b-icon",{staticClass:"has-text-white",attrs:{icon:"chevron-down",size:"is-large"}}):t._e()],1)]),!0===t.open_panel_details?i("div",{staticClass:"vidolist-body"},t._l(t.videolist,(function(e,s){return i("div",{key:s,class:["video-item",t.project_video_selected===e.src?"video-item-active":""],on:{click:function(i){return t.choose_video(e.src)}}},[i("h1",{staticClass:"is-size-4"},[t.project_video_selected===e.src?i("span",[i("b-icon",{attrs:{type:"a",icon:"checkbox-marked-circle-outline",size:"is-small"}})],1):i("span",[i("b-icon",{attrs:{type:"a",icon:"circle-outline",size:"is-small"}})],1),t._v("\n                      "+t._s(e.name)+"\n                    ")])])})),0):t._e(),!0===t.open_panel_details?i("div",{staticClass:"vidolist-footer has-text-centered"},[i("a",{staticClass:"button",staticStyle:{width:"100%"},on:{click:function(e){return t.confirmvideoselected()}}},[i("h1",{staticClass:"is-size-4"},[t._v("Confirm")])])]):t._e()]):t._e(),"scan"===t.active_tab?i("div",{staticClass:"detail-setting",attrs:{id:"sh"}},[t.checked_scan?i("pre",{staticStyle:{background:"transparent",color:"white"}},[t._v(t._s(t.scan_results))]):t._e()]):t._e()])])])])])]),!1===t.loggedin?i("div",{attrs:{id:"login"}},[i("div",{staticClass:"container"},[i("div",{staticClass:"columns"},[i("a",{on:{click:t.gobackPrev}},[i("b-icon",{staticClass:"gobackbutton",attrs:{type:"a",icon:"arrow-left",size:"is-large"}})],1),i("div",{staticClass:"column is-4 is-offset-4"},[i("h1",{staticClass:"title is-size-3 has-text-white has-text-centered"},[t._v("Login to unlock the settings")]),i("div",{staticClass:"field"},[1===t.loginfailed?i("p",{staticClass:"help is-danger"},[t._v("The admin name or the password is invalid")]):t._e(),i("div",{staticClass:"control has-icons-left"},[i("b-icon",{attrs:{icon:"account",size:"is-small"}}),i("input",{directives:[{name:"model",rawName:"v-model",value:t.admin_name,expression:"admin_name"}],class:[1===t.loginfailed?"is-danger":"","input"],attrs:{type:"text",placeholder:"User Name"},domProps:{value:t.admin_name},on:{input:function(e){e.target.composing||(t.admin_name=e.target.value)}}})],1)]),i("div",{staticClass:"field"},[i("p",{staticClass:"control has-icons-left"},[i("b-icon",{attrs:{icon:"lock-question",size:"is-small"}}),i("input",{directives:[{name:"model",rawName:"v-model",value:t.admin_pw,expression:"admin_pw"}],class:[1===t.loginfailed?"is-danger":"","input"],attrs:{type:"password",placeholder:"Password"},domProps:{value:t.admin_pw},on:{input:function(e){e.target.composing||(t.admin_pw=e.target.value)}}})],1)]),i("div",{staticClass:"field is-grouped"},[i("div",{staticClass:"control",staticStyle:{width:"100%"}},[i("button",{staticClass:"button is-link",staticStyle:{"background-color":"transparent","border-color":"#fff","border-width":"1px",color:"#fff"},on:{click:function(e){return t.fakelogin()}}},[t._v("Log in")])])]),t._m(0)])])])]):t._e()])},a=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("p",{staticClass:"has-text-white"},[i("em",[t._v('This is just a Demo. We are still working on binding API with FE. Plase use username "admin" and password"123456" to login. Don\'t worry about security issues.')])])}],o=i("d282"),n={name:"SettingsPage",components:{},props:{lang:String},data:function(){return{open_panel_details:!0,title_test:"Blade Runner 2049",live_source:"",hdmi_start:this.$store.state.hdmi_start,checked_hdmi_live:!1,checked_scan:this.$store.state.checked_scan,loggedin:!1,loginfailed:0,admin_name:"",admin_pw:"",active_tab:"info",project_video_type:this.$store.state.project_video_type,project_video_selected:this.$store.state.project_video_selected}},computed:{videolist:function(){return this.$store.state.hdmi_vlist},scan_results:function(){var t=JSON.stringify(this.$store.state.scan_results,null,2);return t},logo_src:function(){return this.$store.state.logo_src}},created:function(){this.loggedin=this.$store.state.loggined},mounted:function(){},methods:{stop_projection:function(){o["a"].hdmiStop().then((function(t){200===t.status&&console.log("stop hdmi projection succeed!")}))},confirmvideoselected:function(){var t=this;o["a"].hdmiStop().then((function(t){return t.status})).then((function(e){if(200===e){var i={type:t.$store.state.project_video_type,path:t.project_video_selected};console.log(i),o["a"].hdmiStart(i).then((function(e){200===e.status&&(console.log("hdmi start api succeed with data:",i),t.open_panel_details=!1,t.$store.commit("updateproject_video_selected",t.project_video_selected))}))}}))},choose_video:function(t){var e=this;e.project_video_selected=t},choosetab:function(t){this.active_tab=t},gobackPrev:function(){this.$router.go(-1)},fakelogin:function(){"123456"===this.admin_pw&&"admin"===this.admin_name?(this.loggedin=!0,this.$store.commit("updateloggined",!0)):(this.loggedin=!1,this.loginfailed=1)}},watch:{project_video_type:function(t,e){var i=this;this.$store.commit("updateproject_video_type",t),console.log("wtf"+e+"<-"+t);var s=20,a=[];if(null!=t)var n=this.$buefy.loading.open({container:this.$refs.vcard});null!==t&&(this.open_panel_details=!0),"vod"===t?o["a"].getVodList().then((function(t){if(200===t.status){for(var e=0;e<t.data.length;e++){if(e>s)break;var o=t.data[e];a.push({name:o.content.userDefined.EmbeddedContent.Metadata.Title,src:o.content.videos.movie.file.filename})}i.$store.commit("updatehdmi_vlist",a),n.close()}})):"live"===t?o["a"].getLiveList_().then((function(t){if(200===t.status){for(var e=0;e<t.data.LiveList.length;e++){if(e>s)break;var o=t.data.LiveList[e];a.push({name:o.Name,src:o.Url})}i.$store.commit("updatehdmi_vlist",a),n.close()}})):this.open_panel_details=!1},hdmi_start:function(t){this.$store.commit("updatehdmistart",t),console.log("updatehdmistart: "+t),!1===t&&(console.log("stop play"),this.choosetab("info"),this.$store.commit("updatehdmi_vlist",[]),this.$store.commit("updateproject_video_type",null),this.$store.commit("updateproject_video_selected",null),this.project_video_selected=null,this.project_video_type=null,this.stop_projection())},checked_scan:function(t){var e=this;o["a"].getScanResults().then((function(t){if(200===t.status){var i=t.data;e.$store.commit("updatescan_results",i)}})),!1===t&&this.choosetab("info")}}},c=n,l=(i("fb7a"),i("2877")),r=Object(l["a"])(c,s,a,!1,null,"088e5c18",null);e["default"]=r.exports},fb7a:function(t,e,i){"use strict";var s=i("6fe2"),a=i.n(s);a.a}}]);